{"version":3,"file":"main.ed7b98d940482736029e.hot-update.js","mappings":"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","sources":["webpack://react_ecommerce_theme/./js/src/components/NodeListOnly.jsx","webpack://react_ecommerce_theme/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nfunction isValidData(data) {\r\n    if (data === null) {\r\n        return false;\r\n    }\r\n    if (data.data === undefined ||\r\n        data.data === null ||\r\n        data.data.length === 0) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nconst NodeItem = ({ drupal_internal__nid, title }) => (\r\n    <div>\r\n        <a href={`/node/${drupal_internal__nid}`}>{title}</a>\r\n    </div>\r\n);\r\nconst NoData = () => (\r\n    <div>No articles found.</div>\r\n);\r\n\r\nconst NodeListOnly = () => {\r\n    const [content, setContent] = useState(false);\r\n    const [filter, setFilter] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const API_ROOT = '/jsonapi/';\r\n        const url = `${API_ROOT}node/article?fields[node--article]=id,drupal_internal__nid,title,body&sort=-created&page[limit]=10`;\r\n\r\n        const headers = new Headers({\r\n            Accept: 'application/vnd.api+json',\r\n        });\r\n\r\n        fetch(url, { headers })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                if (isValidData(data)) {\r\n                    setContent(data.data)\r\n                }\r\n            })\r\n            .catch(err => console.log('There was an error accessing the API', err));\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <h2>Site content</h2>\r\n            {content ? (\r\n                <>\r\n                    <label htmlFor=\"filter\">Type to filter:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"filter\"\r\n                        placeholder=\"Start typing ...\"\r\n                        onChange={(event => setFilter(event.target.value.toLowerCase()))}\r\n                    />\r\n                    <hr />\r\n                    {\r\n                        content.filter((item) => {\r\n                            if (!filter) {\r\n                                return item;\r\n                            }\r\n\r\n                            if (filter && (item.attributes.title.toLowerCase().includes(filter) || item.attributes.body.value.toLowerCase().includes(filter))) {\r\n                                return item;\r\n                            }\r\n                        }).map((item) => <NodeItem key={item.id} {...item.attributes} />)\r\n                    }\r\n                </>\r\n            ) : (\r\n                <NoData />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NodeListOnly;","__webpack_require__.h = () => (\"2a878f2b0b3f0530f597\")"],"names":["React","useEffect","useState","isValidData","data","undefined","length","NodeItem","_ref","drupal_internal__nid","title","createElement","href","concat","_c","NoData","_c2","NodeListOnly","_s","_useState","_useState2","_slicedToArray","content","setContent","_useState3","_useState4","filter","setFilter","API_ROOT","url","headers","Headers","Accept","fetch","then","response","json","err","console","log","Fragment","htmlFor","type","name","placeholder","onChange","event","target","value","toLowerCase","item","attributes","includes","body","map","_extends","key","id","_c3","$RefreshReg$"],"sourceRoot":""}